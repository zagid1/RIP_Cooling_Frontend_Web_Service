# Лабораторная 8
* Цель работы: Межсервисное взаимодействие, асинхронность, внедрение Real-time web
* Порядок показа: вызвать через insomnia GET списка заявок, затем http-метод асинхронного сервиса (в insomnia и отдельно кнопкой в интерфейсе), показать что в GET списка заявок появился результат с задержкой, потом вызвать новый метод основного сервиса с ключом, чтобы изменить результат. Сделать скриншоты всех изменений в РПЗ по 2025 году.
* Контрольные вопросы: grpc, асинхронность, веб-сервис
* Диаграммы: диаграмма состояний для статусов заявок и диаграмма прецедентов интерфейса React.
* Задание: Создание асинхронного сервиса для отложенного действия (вычисление, моделирование, оплата и тд), одобрение заявок модератором

Необходимо разделить код, который выполняется при завершении заявки, и перенести расчет поля по предметной области в выделенный сервис. Вызов метода этого сервиса должен происходить в методе формирования заявки. Доработать диаграммы последовательности и развертывания.

Требуется разработать второй простой асинхронный сервис на другом языке (кто делал на Django - Go и наоборот) с одним http-методом для выполнения отложенного действия в вашей системе (вычисление, моделирование, оплата и тд). Действие выполняется с задержкой 5-10 секунд, результат сервиса случайный (например успех/неуспех, но записывается всегда - не путать с ошибкой программы) либо вычисляемый по формулам. Достаточно в результате обновить одно поле по предметной области в заявке/м-м. При создании заявки это поле пустое.

В исходном веб-сервисе также необходимо добавить http-метод для внесения результатов. Асинхронный сервис взаимодействует с основным через http, без прямого обращения в БД. Добавить псевдо авторизацию в методе основного сервиса - передавать как константу какой-нибудь ключ-токен, например на 8 байт, и через if просто проверять на совпадение это поле.

Необходимо добавить в приложение React интерфейс модератора, доступный после его авторизации и имеющий следующие отличия:

* В окне списка заявок доступны кнопки для смены статуса заявок. Также есть поля фильтрации по диапазону даты формирования (только даты, без времени) и статусу заявок на стороне бэкенда. Фильтрация по создателю заявки на фронтенде.
* Окно списка заявок переделать на short polling чтобы отображать актуальные статусы.